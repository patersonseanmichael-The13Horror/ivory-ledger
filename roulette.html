<!DOCTYPE html>
<html>
<head>
<title>Executive Roulette</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="center execTable">

<h1>Roulette</h1>
<div id="history"></div>

<input id="betInput" value="100">

<div id="grid"></div>

<button onclick="placeColor('red')">Red</button>
<button onclick="placeColor('black')">Black</button>
<button onclick="placeColor('green')">Green</button>

<div id="status"></div>
<button onclick="spin()">Spin</button>

<script>
let choice=null,betNum=null,hist=[];

function logTx(type, amount, note){
 let tx=JSON.parse(localStorage.getItem("tx")||"[]");
 tx.unshift({
   time:new Date().toLocaleString(),
   type:type,
   amount:amount,
   note:note||""
 });
 tx=tx.slice(0,100); // keep last 100
 localStorage.setItem("tx",JSON.stringify(tx));
}

function addGame(w,wins){
 let wg=parseFloat(localStorage.getItem("wagered")||0);
 let wo=parseFloat(localStorage.getItem("won")||0);
 let g=parseInt(localStorage.getItem("games")||0);
 wg+=w; if(wins>0) wo+=parseFloat(wins); g++;
 localStorage.setItem("wagered",wg.toFixed(2));
 localStorage.setItem("won",wo.toFixed(2));
 localStorage.setItem("games",g);
}

for(let i=0;i<=36;i++){
 let d=document.createElement("div");
 d.className="cell"; d.innerHTML=i;
 d.onclick=()=>{betNum=i;choice=null;};
 grid.appendChild(d);
}

function placeColor(c){choice=c;betNum=null;}

function spin(){
 let bet=parseFloat(betInput.value);
 let
 bal=parseFloat(localStorage.getItem("balance")||0);
 if(bal<bet){alert("No balance");return;}
 bal-=bet;

 let num=Math.floor(Math.random()*37);
 let col="green"; if(num!==0) col=(num%2===0)?"black":"red";

 hist.unshift(num); hist=hist.slice(0,8);
 history.innerHTML=hist.join(" ");

 let exec=(localStorage.getItem("tier")==="Executive");
 let payout=0;

 if(betNum!==null){ if(num===betNum) payout=bet*(exec?40:35);}
 else if(choice===col){ payout=(col==="green")?bet*14:bet*(exec?2.2:2);}

 if(payout>0) bal+=payout;
 localStorage.setItem("balance",bal.toFixed(2));
 addGame(bet,payout);
 
 if(payout>0){
 logTx("Roulette Win", payout, "Number/Color hit");
}else{
 logTx("Roulette Loss", -bet, "Spin lost");
}

 document.body.innerHTML=`<div class="center execTable"><h1>${num} ${col}</h1><h2>${payout>0?"+$"+payout:"-$"+bet}</h2><button
 execTable"><h1>${num} ${col}</h1><h2>${payout>0?"+$"+payout:"-$"+bet}</h2><button onclick="location.href='members.html'">Return</button></div>`;
}
</script>

<style>
.execTable{background:#200}
#grid{display:grid;grid-template-columns:repeat(6,1fr);gap:4px}
.cell{background:#111;padding:6px;border-radius:6px}
</style>

</div>
</body>
</html>