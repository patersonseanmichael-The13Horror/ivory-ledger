<!DOCTYPE html>
<html>
<head><link rel="stylesheet" href="style.css"></head>
<body>

<div class="center">

<h1>Profile</h1>

<div class="stats">
<div class="card">Balance<br>$<span id="b"></span></div>
<div class="card">Wagered<br>$<span id="w"></span></div>
<div class="card">Won<br>$<span id="o"></span></div>
<div class="card">Games<br><span id="g"></span></div>
</div>

<p>Tier: <span id="tier"></span></p>
<p>Rollover: <span id="roll"></span>/220</p>

<button id="withdraw" disabled onclick="wd()">Withdraw $22</button>

<h3>Deposit</h3>
<div class="paybox">
PayID / Osko<br>
Name: Sean Paterson<br>
PayID: 0417 979 350<br>
Reason: Online Shopping<br><br>
<input type="file">
</div>

<button onclick="daily()">Daily Bonus</button>
<p id="msg"></p>

<button onclick="location.href='members.html'">Return</button>

<script>
function logTx(t,a,n){
 let tx=JSON.parse(localStorage.getItem("tx")||"[]");
 tx.unshift({time:new Date().toLocaleString(),type:t,amount:a,note:n});
 localStorage.setItem("tx",JSON.stringify(tx.slice(0,100)));
}

let bal=parseFloat(localStorage.getItem("balance"));
let wag=parseFloat(localStorage.getItem("wagered"));
let won=parseFloat(localStorage.getItem("won"));
let games=parseInt(localStorage.getItem("games"));
let t=localStorage.getItem("tier");

b.innerHTML=bal.toFixed(2);
w.innerHTML=wag;o.innerHTML=won;g.innerHTML=games;
tier.innerHTML=t;

roll.innerHTML=Math.min(wag,220);

if(wag>=220) withdraw.disabled=false;

function wd(){
 bal-=22;
 localStorage.setItem("balance",bal);
 logTx("Withdrawal",-22,"Signup");
 alert("Withdrawal Requested");
}

function daily(){
 let d=new Date().toDateString();
 if(localStorage.getItem("daily")==d){msg.innerText="Already claimed";return;}
 let bonus=t==="Executive"?1000:t==="Premium"?500:250;
 bal+=bonus;
 localStorage.setItem("balance",bal);
 localStorage.setItem("daily",d);
 logTx("Daily Bonus",bonus,"Tier");
 msg.innerText="+$"+bonus;
}
</script>

</div>
</body>
</html>
